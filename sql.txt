psql -U ag6946 -d ag6946_mfdb -h pgserver.mah.se
jnblid5q

DROP DATABASE IF EXISTS ag6946_mfdb;
CREATE DATABASE ag6946_mfdb;
REVOKE ALL PRIVILEGES ON DATABASE ag6946_mfdb FROM PUBLIC;

/C ag6946_mfdb;

CREATE TABLE forfattare
(
id SERIAL,
anv_namn varchar (50) NOT NULL,
losenord varchar (50) NOT NULL,
namn varchar(50) NOT NULL,
efternamn varchar(50) NOT NULL,
telefon varchar(50) NOT NULL,
PRIMARY KEY (id)
);

CREATE TABLE artikel
(
id SERIAL,
rubrik varchar(50) NOT NULL,
ingress text,
a_text text,
datum date,
PRIMARY KEY (id)
);

CREATE TABLE bilder
(
id SERIAL,
namn varchar(50),
länk varchar(200),
PRIMARY KEY (id)
);

CREATE TABLE skrivit
(
artikel_id SERIAL,
forfattar_id SERIAL,
PRIMARY KEY (artikel_id, forfattar_id),
FOREIGN KEY (artikel_id) references artikel(id),
FOREIGN KEY (forfattar_id) references forfattare(id)
);

CREATE TABLE artikel_foto
(
artikel_id SERIAL,
bild_id SERIAL,
PRIMARY KEY (artikel_id, bild_id),
FOREIGN KEY (artikel_id) references artikel(id),
FOREIGN KEY (bild_id) references bilder(id)
);



INSERT INTO forfattare 
(anv_namn, losenord, namn, efternamn, telefon) 
VALUES 
('Test', 'Test', 'Testet', 'Testsson', '0711111111');

INSERT INTO artikel
(rubrik, ingress, a_text, datum)
VALUES
('Test Rubrik 1', 'Nam libero tempore, cum soluta nobis est eligendi optio quo minus id quod maxime placeat facere possimus, omnis dolor repellendus.', '"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.', '2018-10-05'),
('Test Rubrik 2', 'Omnis dolor repellendus.', '"Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor.', '2018-11-05'),
('Test Rubrik 3', 'Et harum quidem rerum facilis est et expedita distinctio.','Eligendi optio quo minus id quod maxime placeat facere possimus, excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio.', '2017-10-05')
;

INSERT INTO skrivit
(artikel_id, forfattar_id)
VALUES
(1,1),
(2,1),
(3,1)
;